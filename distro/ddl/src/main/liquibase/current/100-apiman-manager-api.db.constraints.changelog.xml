<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd">
    <changeSet author="apiman (generated)" id="1434728211665-23">
        <addPrimaryKey columnNames="service_version_id, name" tableName="endpoint_properties"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-24">
        <addPrimaryKey columnNames="service_version_id, gatewayId" tableName="svc_gateways"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-25">
        <addPrimaryKey columnNames="service_version_id, planId, version" tableName="svc_plans"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-26">
        <addPrimaryKey columnNames="id" constraintName="application_versionsPK" tableName="application_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-27">
        <addPrimaryKey columnNames="id, organization_id" constraintName="applicationsPK" tableName="applications"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-28">
        <addPrimaryKey columnNames="id" constraintName="auditlogPK" tableName="auditlog"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-29">
        <addPrimaryKey columnNames="id" constraintName="contractsPK" tableName="contracts"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-30">
        <addPrimaryKey columnNames="id" constraintName="gatewaysPK" tableName="gateways"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-31">
        <addPrimaryKey columnNames="id" constraintName="membershipsPK" tableName="memberships"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-32">
        <addPrimaryKey columnNames="id" constraintName="organizationsPK" tableName="organizations"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-33">
        <addPrimaryKey columnNames="id" constraintName="plan_versionsPK" tableName="plan_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-34">
        <addPrimaryKey columnNames="id, organization_id" constraintName="plansPK" tableName="plans"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-35">
        <addPrimaryKey columnNames="id" constraintName="pluginsPK" tableName="plugins"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-36">
        <addPrimaryKey columnNames="id" constraintName="policiesPK" tableName="policies"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-37">
        <addPrimaryKey columnNames="id" constraintName="policydefsPK" tableName="policydefs"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-38">
        <addPrimaryKey columnNames="id" constraintName="rolesPK" tableName="roles"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-39">
        <addPrimaryKey columnNames="id" constraintName="service_defsPK" tableName="service_defs"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-40">
        <addPrimaryKey columnNames="id" constraintName="service_versionsPK" tableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-41">
        <addPrimaryKey columnNames="id, organization_id" constraintName="servicesPK" tableName="services"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-42">
        <addPrimaryKey columnNames="username" constraintName="usersPK" tableName="users"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-43">
        <addUniqueConstraint columnNames="app_id, app_org_id, version" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="application_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-44">
        <addUniqueConstraint columnNames="appv_id, svcv_id, planv_id" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="contracts"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-45">
        <addUniqueConstraint columnNames="user_id, role_id, org_id" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="memberships"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-46">
        <addUniqueConstraint columnNames="plan_id, plan_org_id, version" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="plan_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-47">
        <addUniqueConstraint columnNames="group_id, artifact_id" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="plugins"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-48">
        <addUniqueConstraint columnNames="service_id, service_org_id, version" deferrable="false" disabled="false"
                             initiallyDeferred="false" tableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-49">
        <addForeignKeyConstraint baseColumnNames="organization_id" baseTableName="services"
                                 constraintName="FK_31hj3xmhp1wedxjh5bklnlg15" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="organizations"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-50">
        <addForeignKeyConstraint baseColumnNames="appv_id" baseTableName="contracts"
                                 constraintName="FK_6h06sgs4dudh1wehmk0us973g" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="application_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-51">
        <addForeignKeyConstraint baseColumnNames="service_version_id" baseTableName="service_defs"
                                 constraintName="FK_81fuw1n8afmvpw4buk7l4tyxk" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-52">
        <addForeignKeyConstraint baseColumnNames="app_id,app_org_id" baseTableName="application_versions"
                                 constraintName="FK_8epnoby31bt7xakegakigpikp" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id,organization_id"
                                 referencedTableName="applications"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-53">
        <addForeignKeyConstraint baseColumnNames="svcv_id" baseTableName="contracts"
                                 constraintName="FK_8o6t1f3kg96rxy5uv51f6k9fy" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-54">
        <addForeignKeyConstraint baseColumnNames="service_id,service_org_id" baseTableName="service_versions"
                                 constraintName="FK_92erjg9k1lni97gd87nt6tq37" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id,organization_id"
                                 referencedTableName="services"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-55">
        <addForeignKeyConstraint baseColumnNames="service_version_id" baseTableName="endpoint_properties"
                                 constraintName="FK_gn0ydqur10sxuvpyw2jvv4xxb" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-56">
        <addForeignKeyConstraint baseColumnNames="organization_id" baseTableName="applications"
                                 constraintName="FK_jenpu34rtuncsgvtw0sfo8qq9" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="organizations"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-57">
        <addForeignKeyConstraint baseColumnNames="definition_id" baseTableName="policies"
                                 constraintName="FK_l4q6we1bos1yl9unmogei6aja" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id" referencedTableName="policydefs"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-58">
        <addForeignKeyConstraint baseColumnNames="organization_id" baseTableName="plans"
                                 constraintName="FK_lwhc7xrdbsun1ak2uvfu0prj8" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="organizations"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-59">
        <addForeignKeyConstraint baseColumnNames="planv_id" baseTableName="contracts"
                                 constraintName="FK_nyw8xu6m8cx4rwwbtrxbjneui" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="plan_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-60">
        <addForeignKeyConstraint baseColumnNames="service_version_id" baseTableName="svc_gateways"
                                 constraintName="FK_p5dm3cngljt6yrsnvc7uc6a75" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-61">
        <addForeignKeyConstraint baseColumnNames="policydef_id" baseTableName="pd_templates"
                                 constraintName="FK_prbnn7j7m6m3pxt2dsn9gwlw8" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id" referencedTableName="policydefs"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-62">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="permissions"
                                 constraintName="FK_sq51ihfrapwdr98uufenhcocg" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id" referencedTableName="roles"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-63">
        <addForeignKeyConstraint baseColumnNames="service_version_id" baseTableName="svc_plans"
                                 constraintName="FK_t7uvfcsswopb9kh8wpa86blqr" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="service_versions"/>
    </changeSet>
    <changeSet author="apiman (generated)" id="1434728211665-64">
        <addForeignKeyConstraint baseColumnNames="plan_id,plan_org_id" baseTableName="plan_versions"
                                 constraintName="FK_tonylvm2ypnq3efxqr1g0m9fs" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id,organization_id"
                                 referencedTableName="plans"/>
    </changeSet>
</databaseChangeLog>